<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Capella Satellite Position</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        #plot {
            width: 100%;
            height: 100vh;
        }
    </style>
</head>
<body>
    <div id="plot"></div>
    <script>
        // Function to fetch new data and update the plot
        async function updatePlot() {
            const response = await fetch('position_data.json');
            const data = await response.json();

            const trace = {
                type: 'scattergeo',
                lon: [data.lon],
                lat: [data.lat],
                text: `Time: ${data.time}<br>Height: ${data.height.toFixed(2)} km`,
                mode: 'markers',
                marker: {
                    size: 10,
                    color: 'red',
                    symbol: 'circle'
                }
            };

            const layout = {
                title: 'Capella Satellite Position',
                geo: {
                    projection: {
                        type: 'equirectangular'
                    },
                    showland: true,
                    landcolor: 'rgb(243, 243, 243)',
                    subunitwidth: 1,
                    countrywidth: 1,
                    subunitcolor: 'rgb(217, 217, 217)',
                    countrycolor: 'rgb(217, 217, 217)'
                }
            };

            Plotly.newPlot('plot', [trace], layout);
        }

        // Initial plot
        updatePlot();

        // Update the plot every 10 seconds
        setInterval(updatePlot, 10000);
    </script>
</body>
</html>
