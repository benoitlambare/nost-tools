info:
  title: Novel Observing Strategies Testbed (NOS-T) YAML Configuration
  version: '1.0.0'
  description: Version-controlled AsyncAPI document for RabbitMQ event broker with Keycloak authentication within NOS-T
servers:
  rabbitmq:
    keycloak_authentication: False
    host: "localhost"
    port: 5672
    tls: False
    virtual_host: "/"
    message_expiration: "60000"
execution:
  general:
    prefix: downlink
  application:
    shut_down_when_terminated: True
  manager:
    sim_start_time: "2023-01-23T07:20:00+00:00"
    sim_stop_time: "2023-01-23T09:20:00+00:00"
    start_time: 
    time_step: "0:00:01"
    time_scale_factor: 60
    time_status_step: "0:00:01"
    is_scenario_time_status_step: False
    time_status_init: "2023-01-23T07:21:00+00:00"
    command_lead: "0:00:05"
    required_apps:
      - manager
      - satelliteStorage
      - outage
      - ground
    init_retry_delay_s: 5
    init_max_retry: 5
    set_offset: True
    shut_down_when_terminated: True
  managed_applications:
    satelliteStorage:
      time_scale_factor: 60
      time_step: "0:00:01"
      is_scenario_time_step: False
      set_offset: True
      time_status_step: "0:00:10"
      is_scenario_time_status_step: False
      time_status_init: "2023-01-23T07:20:00+00:00"
      shut_down_when_terminated: True
      manager_app_name: "manager"
      configuration_parameters:
        SC1:
          tle1: "1 37849U 11061A   19365.87495 0.00000011  00000-0  25920-4	0  9999"  # Historic SUOMI NPP TLE
          tle2: "2 37849  98.7213 301.202 0001371  69.7366 357.989 14.19561536000000"  # Historic SUOMI NPP TLE
          ssr_capacity: 280  # Capacity of onboard Solid State Recorder in Gigabits
          capacity_used: 0.30  # Fractional value from 0 (empty) to 1 (full)
          instrument_rate: 0.0125  # Rate of data collection for all instruments in Gigabits/second
          cost_mode: "discrete"  # Options are "discrete" (per downlink), "continuous" (fixed contract), or "both"
          fixed_rate: 0.09  # Only used if "continuous" or "both" are the cost mode
        SC2:
          tle1: "1 37849U 11061A   19365.87495 0.00000011  00000-0  25920-4	0  9999" 
          tle2: "2 37849 53.7213 301.202 0001371 69.7366 357.989 14.19561536000000"
          ssr_capacity: 343
          capacity_used: 0.25
          instrument_rate: 0.0125
          cost_mode: "discrete"
          fixed_rate: 0.09
    outage:
      time_scale_factor: 60
      time_step: "0:00:01"
      is_scenario_time_step: False
      set_offset: True
      time_status_step: "0:00:10"
      is_scenario_time_status_step: False
      time_status_init: "2023-01-23T07:30:00+00:00"
      shut_down_when_terminated: True
      manager_app_name: "manager"
    ground:
      time_scale_factor: 60
      time_step: "0:00:01"
      is_scenario_time_step: False
      set_offset: True
      time_status_step: "0:00:10"
      is_scenario_time_status_step: False
      time_status_init: "2023-01-23T07:30:00+00:00"
      shut_down_when_terminated: True
      manager_app_name: "manager"

# Configuration parameters for satellites and applications
configuration:
  satelliteStorage:
    SC1:
      tle1: "1 37849U 11061A   19365.87495 0.00000011  00000-0  25920-4	0  9999"  # Historic SUOMI NPP TLE
      tle2: "2 37849  98.7213 301.202 0001371  69.7366 357.989 14.19561536000000"  # Historic SUOMI NPP TLE
      ssr_capacity: 280  # Capacity of onboard Solid State Recorder in Gigabits
      capacity_used: 0.30  # Fractional value from 0 (empty) to 1 (full)
      instrument_rate: 0.0125  # Rate of data collection for all instruments in Gigabits/second
      cost_mode: "discrete"  # Options are "discrete" (per downlink), "continuous" (fixed contract), or "both"
      fixed_rate: 0.09  # Only used if "continuous" or "both" are the cost mode
    SC2:
      tle1: "1 37849U 11061A   19365.87495 0.00000011  00000-0  25920-4	0  9999"  # Historic SUOMI NPP TLE
      tle2: "2 37849  53.7213 301.202 0001371  69.7366 357.989 14.19561536000000"  # Historic SUOMI NPP TLE
      ssr_capacity: 343  # Capacity of onboard Solid State Recorder in Gigabits
      capacity_used: 0.25  # Fractional value from 0 (empty) to 1 (full)
      instrument_rate: 0.0125  # Rate of data collection for all instruments in Gigabits/second
      cost_mode: "discrete"  # Options are "discrete" (per downlink), "continuous" (fixed contract), or "both"
      fixed_rate: 0.09  # Only used if "continuous" or "both" are the cost mode