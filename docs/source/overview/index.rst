.. _overview:

NOS-T Overview
==============

The New Observing Strategies (NOS) initiative within the NASA Earth Science Technology Office Advanced Information Systems Technology program envisions future Earth science missions with distributed sensors (nodes) interconnected by a communications fabric that enables dynamic and intelligent operations. Some NOS concepts resemble systems-of-systems or collaborative systems where operational authority is distributed among multiple systems, necessitating new methods for systems engineering and design to cope with more decentralized control over constituent systems.

The NOS-T system architecture follows a loosely-coupled event-driven architecture (EDA) where member applications communicate state changes through events which take the form of notification messages sent over a network. An EDA provides enhanced scalability and reliability over other software architectures by replicating event handling functions across infrastructure instances while maintaining modularity between applications through a simple event-handling interface. NOS-T can also be described as a service-oriented architecture as applications trigger services in response to events.

The NOS-T architecture relies on a centralized infrastructure component called an event broker (synonymous with message broker) to exchange event notifications between applications. A broker greatly simplifies the communication structure because each member application (client) only directly connects to the broker, rather than requiring each application to directly connect to every other application. While there are many alternative broker implementation options available, NOS-T adopts the Solace PubSub+ Standard Edition event broker, a proprietary but freely available commercial product. PubSub+ uses a publish-subscribe messaging pattern which designates applications (clients) as publishers (producers of events) and subscribers (consumers of events). Each application can publish or subscribe to multiple types of events.

The two top-level NOS-T system components, seen in the figure below, include the NOS-T System (fixed for all test cases) and the User System (tailored to each unique test case). The NOS-T System, managed by an NOS-T operator, includes the event broker infrastructure and, generally, a manager application which orchestrates a test run. The operator ensures that constituent applications will be run at the same time, are publishing and subscribing to the correct topics, and use a consistent message structure for events. The manager application, among other tasks, ensures that applications are initialized before starting and maintain a consistent simulation time clock.

.. image:: media/graphicalConcept.png
   :width: 600
   :align: center

The User System consists of user applications developed and operated by each test case participant. User applications run on separate hosts controlled by each participant and can be variably scoped to model an entire observing system or individual components such as sensors, communication links, tasking or scheduling algorithms, forecasting models, or environmental data (e.g., nature run data sets). Each user application must meet the basic NOS-T interface requirements for orchestration (namely, subscribing to and responding to manager commands) plus any additional test case-specific interface requirements agreed upon by the participants. There are no general restrictions on software language, host platform, physical location, or other implementation details for user applications.

To aid in application development, the open-source NOS-T tools library contains a set of templates which help users implement basic NOS-T functionality in their test suites. For instance, a template for the Manager application referenced above is in the tools library. Other templates for observers (i.e. sensor applications), observables (i.e. science applications), and message broker connections are included. The documentation for these tools is in the :ref:`nostTools`. 

The tools and most of the applications within the example test suites have been coded in Python. However, other coding languages can interface with the MQTT publish/subscribe protocol. For instance, the “scoreboard” geospatial visualization application seen in many of the examples uses javascript. Furthermore, Matlab has a `built-in function <https://www.mathworks.com/help/thingspeak/mqtt-api.html>`_ that interfaces with an MQTT broker. It is unnecessary for all of the applications in a test suite to use the same coding language as long as they maintain a common message structure for the information passed over the NOS-T infrastructure.
